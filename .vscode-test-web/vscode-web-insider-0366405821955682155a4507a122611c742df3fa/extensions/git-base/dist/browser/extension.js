(()=>{"use strict";var e={630(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ApiImpl=void 0,t.registerAPICommands=function(e){const t=[];return t.push(i.commands.registerCommand("git-base.api.getRemoteSources",t=>{if(e.model&&t)return(0,r.pickRemoteSource)(e.model,t)})),i.Disposable.from(...t)};const i=o(398),r=o(243);t.ApiImpl=class{_model;constructor(e){this._model=e}pickRemoteSource(e){return(0,r.pickRemoteSource)(this._model,e)}getRemoteSourceActions(e){return(0,r.getRemoteSourceActions)(this._model,e)}registerRemoteSourceProvider(e){return this._model.registerRemoteSourceProvider(e)}}},616(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.GitBaseExtensionImpl=void 0;const i=o(398),r=o(630);t.GitBaseExtensionImpl=class{enabled=!1;_onDidChangeEnablement=new i.EventEmitter;onDidChangeEnablement=this._onDidChangeEnablement.event;_model=void 0;set model(e){this._model=e;const t=!!e;this.enabled!==t&&(this.enabled=t,this._onDidChangeEnablement.fire(this.enabled))}get model(){return this._model}constructor(e){e&&(this.enabled=!0,this._model=e)}getAPI(e){if(!this._model)throw new Error("Git model not found");if(1!==e)throw new Error(`No API version ${e} found.`);return new r.ApiImpl(this._model)}}},74(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0,t.debounce=function(e){return r((t,o)=>{const i=`$debounce$${o}`;return function(...o){clearTimeout(this[i]),this[i]=setTimeout(()=>t.apply(this,o),e)}})};const i=o(900);function r(e){return(t,o,i)=>{if("function"!=typeof i.value)throw new Error("not supported");i.value=e(i.value,String(o))}}t.throttle=r(function(e,t){const o=`$throttle$current$${t}`,r=`$throttle$next$${t}`,n=function(...t){if(this[r])return this[r];if(this[o])return this[r]=(0,i.done)(this[o]).then(()=>(this[r]=void 0,n.apply(this,t))),this[r];this[o]=e.apply(this,t);const s=()=>this[o]=void 0;return(0,i.done)(this[o]).then(s,s),this[o]};return n})},646(e,t,o){var i,r=this&&this.__createBinding||(Object.create?function(e,t,o,i){void 0===i&&(i=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,i,r)}:function(e,t,o,i){void 0===i&&(i=o),e[i]=t[o]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[t.length]=o);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o=i(e),s=0;s<o.length;s++)"default"!==o[s]&&r(t,e,o[s]);return n(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.GitCommitFoldingProvider=void 0;const c=s(o(398));t.GitCommitFoldingProvider=class{provideFoldingRanges(e,t,o){const i=[];let r,n;for(let t=0;t<e.lineCount;t++){const o=e.lineAt(t).text;o.startsWith("#")?(void 0!==n&&(t-n>1&&i.push(new c.FoldingRange(n,t-1)),n=void 0),void 0===r&&(r=t)):void 0!==r&&(t-r>1&&i.push(new c.FoldingRange(r,t-1,c.FoldingRangeKind.Comment)),r=void 0),o.startsWith("diff --git ")&&(void 0!==n&&t-n>1&&i.push(new c.FoldingRange(n,t-1)),n=t)}return void 0!==r&&e.lineCount-r>1&&i.push(new c.FoldingRange(r,e.lineCount-1,c.FoldingRangeKind.Comment)),void 0!==n&&e.lineCount-n>1&&i.push(new c.FoldingRange(n,e.lineCount-1)),i}}},487(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const i=o(398),r=o(900);t.Model=class{remoteSourceProviders=new Set;_onDidAddRemoteSourceProvider=new i.EventEmitter;onDidAddRemoteSourceProvider=this._onDidAddRemoteSourceProvider.event;_onDidRemoveRemoteSourceProvider=new i.EventEmitter;onDidRemoveRemoteSourceProvider=this._onDidRemoveRemoteSourceProvider.event;registerRemoteSourceProvider(e){return this.remoteSourceProviders.add(e),this._onDidAddRemoteSourceProvider.fire(e),(0,r.toDisposable)(()=>{this.remoteSourceProviders.delete(e),this._onDidRemoveRemoteSourceProvider.fire(e)})}getRemoteProviders(){return[...this.remoteSourceProviders.values()]}}},243(e,t,o){var i=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(s=(n<3?r(s):n>3?r(t,o,s):r(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.getRemoteSourceActions=async function(e,t){const o=e.getRemoteProviders(),i=[];for(const e of o){const o=await(e.getRemoteSourceActions?.(t));o?.length&&i.push(...o)}return i},t.pickRemoteSource=async function(e,t={}){const o=r.window.createQuickPick();if(o.title=t.title,t.providerName){const o=e.getRemoteProviders().filter(e=>e.name===t.providerName)[0];if(o)return await u(o,t)}const i=e.getRemoteProviders().map(e=>({label:(e.icon?`$(${e.icon}) `:"")+(t.providerLabel?t.providerLabel(e):e.name),alwaysShow:!0,provider:e})),n=[];if(t.showRecentSources)for(const{provider:e}of i){const t=(await(e.getRecentRemoteSources?.())??[]).map(e=>({...e,label:(e.icon?`$(${e.icon}) `:"")+e.name,url:"string"==typeof e.url?e.url:e.url[0]}));n.push(...t)}const c=[{kind:r.QuickPickItemKind.Separator,label:r.l10n.t("remote sources")},...i,{kind:r.QuickPickItemKind.Separator,label:r.l10n.t("recently opened")},...n.sort((e,t)=>t.timestamp-e.timestamp)];o.placeholder=t.placeholder??(0===i.length?r.l10n.t("Provide repository URL"):r.l10n.t("Provide repository URL or pick a repository source."));const l=e=>{if(e){const i=("string"==typeof t.urlLabel?t.urlLabel:t.urlLabel?.(e))??r.l10n.t("URL");o.items=[{label:i,description:e,alwaysShow:!0,url:e},...c]}else o.items=c};o.onDidChangeValue(l),l();const a=await s(o);if(a){if(a.url)return a.url;if(a.provider)return await u(a.provider,t)}};const r=o(398),n=o(74);async function s(e){const t=[],o=await new Promise(o=>{t.push(e.onDidAccept(()=>o(e.selectedItems[0])),e.onDidHide(()=>o(void 0))),e.show()});return e.hide(),t.forEach(e=>e.dispose()),o}class c{provider;disposables=[];isDisposed=!1;quickpick;constructor(e){this.provider=e}dispose(){this.disposables.forEach(e=>e.dispose()),this.disposables=[],this.quickpick=void 0,this.isDisposed=!0}ensureQuickPick(){this.quickpick||(this.quickpick=r.window.createQuickPick(),this.disposables.push(this.quickpick),this.quickpick.ignoreFocusOut=!0,this.disposables.push(this.quickpick.onDidHide(()=>this.dispose())),this.provider.supportsQuery?(this.quickpick.placeholder=this.provider.placeholder??r.l10n.t("Repository name (type to search)"),this.disposables.push(this.quickpick.onDidChangeValue(this.onDidChangeValue,this))):this.quickpick.placeholder=this.provider.placeholder??r.l10n.t("Repository name"))}onDidChangeValue(){this.query()}async query(){try{if(this.isDisposed)return;this.ensureQuickPick(),this.quickpick.busy=!0,this.quickpick.show();const e=await this.provider.getRemoteSources(this.quickpick?.value)||[];if(this.isDisposed)return;0===e.length?this.quickpick.items=[{label:r.l10n.t("No remote repositories found."),alwaysShow:!0}]:this.quickpick.items=e.map(e=>({label:e.icon?`$(${e.icon}) ${e.name}`:e.name,description:e.description||("string"==typeof e.url?e.url:e.url[0]),detail:e.detail,remoteSource:e,alwaysShow:!0}))}catch(e){this.quickpick.items=[{label:r.l10n.t("{0} Error: {1}","$(error)",e.message),alwaysShow:!0}],console.error(e)}finally{this.isDisposed||(this.quickpick.busy=!1)}}async pick(){if(await this.query(),this.isDisposed)return;const e=await s(this.quickpick);return e?.remoteSource}}async function u(e,t={}){const o=new c(e),i=await o.pick();let n;if(o.dispose(),i&&("string"==typeof i.url?n=i.url:i.url.length>0&&(n=await r.window.showQuickPick(i.url,{ignoreFocusOut:!0,placeHolder:r.l10n.t("Choose a URL to clone from.")}))),!n||!t.branch)return n;if(!e.getBranches)return{url:n};const s=await e.getBranches(n);if(!s)return{url:n};const u=await r.window.showQuickPick(s,{placeHolder:r.l10n.t("Branch name")});return u?{url:n,branch:u}:{url:n}}i([(0,n.debounce)(300)],c.prototype,"onDidChangeValue",null),i([n.throttle],c.prototype,"query",null)},900(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Versions=void 0,t.toDisposable=function(e){return{dispose:e}},t.done=function(e){return e.then(()=>{})},function(e){function t(e,t,o,i){return{major:"string"==typeof e?parseInt(e,10):e,minor:"string"==typeof t?parseInt(t,10):t,patch:null==o?0:"string"==typeof o?parseInt(o,10):o,pre:i}}function o(e){const[o,i]=e.split("-"),[r,n,s]=o.split(".");return t(r,n,s,i)}e.compare=function(e,t){return"string"==typeof e&&(e=o(e)),"string"==typeof t&&(t=o(t)),e.major>t.major?1:e.major<t.major?-1:e.minor>t.minor?1:e.minor<t.minor?-1:e.patch>t.patch?1:e.patch<t.patch?-1:void 0===e.pre&&void 0!==t.pre?1:void 0!==e.pre&&void 0===t.pre?-1:void 0!==e.pre&&void 0!==t.pre?e.pre.localeCompare(t.pre):0},e.from=t,e.fromString=o}(o||(t.Versions=o={}))},398(e){e.exports=require("vscode")}},t={};function o(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,o),n.exports}var i={};(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=function(e){const o=new n.GitBaseExtensionImpl(new s.Model);return e.subscriptions.push((0,r.registerAPICommands)(o)),e.subscriptions.push(t.languages.registerFoldingRangeProvider("git-commit",new c.GitCommitFoldingProvider)),o};const t=o(398),r=o(630),n=o(616),s=o(487),c=o(646)})();var r=exports;for(var n in i)r[n]=i[n];i.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();
//# sourceMappingURL=https://main.vscode-cdn.net/sourcemaps/0366405821955682155a4507a122611c742df3fa/extensions/git-base/dist/browser/extension.js.map