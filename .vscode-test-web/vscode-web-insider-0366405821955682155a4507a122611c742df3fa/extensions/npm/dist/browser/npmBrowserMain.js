"use strict";var we=Object.create;var R=Object.defineProperty;var Te=Object.getOwnPropertyDescriptor;var Ae=Object.getOwnPropertyNames;var Oe=Object.getPrototypeOf,Se=Object.prototype.hasOwnProperty;var Ie=(e,r)=>()=>(e&&(r=e(e=0)),r);var ee=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Ne=(e,r)=>{for(var t in r)R(e,t,{get:r[t],enumerable:!0})},ne=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Ae(r))!Se.call(e,i)&&i!==t&&R(e,i,{get:()=>r[i],enumerable:!(n=Te(r,i))||n.enumerable});return e};var H=(e,r,t)=>(t=e!=null?we(Oe(e)):{},ne(r||!e||!e.__esModule?R(t,"default",{value:e,enumerable:!0}):t,e)),Pe=e=>ne(R({},"__esModule",{value:!0}),e);var I,v=Ie(()=>{I={}});var re=ee(te=>{"use strict";v();(()=>{"use strict";var e={};(()=>{var n=e;Object.defineProperty(n,"__esModule",{value:!0}),n.getErrorStatusDescription=n.xhr=n.configure=void 0,n.configure=(i,o)=>{},n.xhr=async i=>{let o=new Headers;if(i.headers)for(let u in i.headers){let y=i.headers[u];Array.isArray(y)?y.forEach((A=>o.set(u,A))):o.set(u,y)}i.user&&i.password&&o.set("Authorization","Basic "+btoa(i.user+":"+i.password));let s={method:i.type,redirect:i.followRedirects>0?"follow":"manual",mode:"cors",headers:o};if(i.data&&(s.body=i.data),i.token){let u=new AbortController;i.token.isCancellationRequested&&u.abort(),i.token.onCancellationRequested((()=>{u.abort()})),s.signal=u.signal}let f=new Request(i.url,s),l=await fetch(f),a={};l.headers.forEach(((u,y)=>{a[y]=u}));let c=await l.arrayBuffer();return new class{constructor(){this.status=l.status,this.headers=a}get responseText(){return new TextDecoder().decode(c)}get body(){return new Uint8Array(c)}}},n.getErrorStatusDescription=function(i){return String(i)}})();var r=te;for(var t in e)r[t]=e[t];e.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})()});var ue=ee((pn,ce)=>{"use strict";v();function P(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function ae(e,r){for(var t="",n=0,i=-1,o=0,s,f=0;f<=e.length;++f){if(f<e.length)s=e.charCodeAt(f);else{if(s===47)break;s=47}if(s===47){if(!(i===f-1||o===1))if(i!==f-1&&o===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var l=t.lastIndexOf("/");if(l!==t.length-1){l===-1?(t="",n=0):(t=t.slice(0,l),n=t.length-1-t.lastIndexOf("/")),i=f,o=0;continue}}else if(t.length===2||t.length===1){t="",n=0,i=f,o=0;continue}}r&&(t.length>0?t+="/..":t="..",n=2)}else t.length>0?t+="/"+e.slice(i+1,f):t=e.slice(i+1,f),n=f-i-1;i=f,o=0}else s===46&&o!==-1?++o:o=-1}return t}function Re(e,r){var t=r.dir||r.root,n=r.base||(r.name||"")+(r.ext||"");return t?t===r.root?t+n:t+e+n:n}var j={resolve:function(){for(var r="",t=!1,n,i=arguments.length-1;i>=-1&&!t;i--){var o;i>=0?o=arguments[i]:(n===void 0&&(n=process.cwd()),o=n),P(o),o.length!==0&&(r=o+"/"+r,t=o.charCodeAt(0)===47)}return r=ae(r,!t),t?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(r){if(P(r),r.length===0)return".";var t=r.charCodeAt(0)===47,n=r.charCodeAt(r.length-1)===47;return r=ae(r,!t),r.length===0&&!t&&(r="."),r.length>0&&n&&(r+="/"),t?"/"+r:r},isAbsolute:function(r){return P(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,t=0;t<arguments.length;++t){var n=arguments[t];P(n),n.length>0&&(r===void 0?r=n:r+="/"+n)}return r===void 0?".":j.normalize(r)},relative:function(r,t){if(P(r),P(t),r===t||(r=j.resolve(r),t=j.resolve(t),r===t))return"";for(var n=1;n<r.length&&r.charCodeAt(n)===47;++n);for(var i=r.length,o=i-n,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var f=t.length,l=f-s,a=o<l?o:l,c=-1,u=0;u<=a;++u){if(u===a){if(l>a){if(t.charCodeAt(s+u)===47)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else o>a&&(r.charCodeAt(n+u)===47?c=u:u===0&&(c=0));break}var y=r.charCodeAt(n+u),A=t.charCodeAt(s+u);if(y!==A)break;y===47&&(c=u)}var d="";for(u=n+c+1;u<=i;++u)(u===i||r.charCodeAt(u)===47)&&(d.length===0?d+="..":d+="/..");return d.length>0?d+t.slice(s+c):(s+=c,t.charCodeAt(s)===47&&++s,t.slice(s))},_makeLong:function(r){return r},dirname:function(r){if(P(r),r.length===0)return".";for(var t=r.charCodeAt(0),n=t===47,i=-1,o=!0,s=r.length-1;s>=1;--s)if(t=r.charCodeAt(s),t===47){if(!o){i=s;break}}else o=!1;return i===-1?n?"/":".":n&&i===1?"//":r.slice(0,i)},basename:function(r,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');P(r);var n=0,i=-1,o=!0,s;if(t!==void 0&&t.length>0&&t.length<=r.length){if(t.length===r.length&&t===r)return"";var f=t.length-1,l=-1;for(s=r.length-1;s>=0;--s){var a=r.charCodeAt(s);if(a===47){if(!o){n=s+1;break}}else l===-1&&(o=!1,l=s+1),f>=0&&(a===t.charCodeAt(f)?--f===-1&&(i=s):(f=-1,i=l))}return n===i?i=l:i===-1&&(i=r.length),r.slice(n,i)}else{for(s=r.length-1;s>=0;--s)if(r.charCodeAt(s)===47){if(!o){n=s+1;break}}else i===-1&&(o=!1,i=s+1);return i===-1?"":r.slice(n,i)}},extname:function(r){P(r);for(var t=-1,n=0,i=-1,o=!0,s=0,f=r.length-1;f>=0;--f){var l=r.charCodeAt(f);if(l===47){if(!o){n=f+1;break}continue}i===-1&&(o=!1,i=f+1),l===46?t===-1?t=f:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||i===-1||s===0||s===1&&t===i-1&&t===n+1?"":r.slice(t,i)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return Re("/",r)},parse:function(r){P(r);var t={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return t;var n=r.charCodeAt(0),i=n===47,o;i?(t.root="/",o=1):o=0;for(var s=-1,f=0,l=-1,a=!0,c=r.length-1,u=0;c>=o;--c){if(n=r.charCodeAt(c),n===47){if(!a){f=c+1;break}continue}l===-1&&(a=!1,l=c+1),n===46?s===-1?s=c:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||l===-1||u===0||u===1&&s===l-1&&s===f+1?l!==-1&&(f===0&&i?t.base=t.name=r.slice(1,l):t.base=t.name=r.slice(f,l)):(f===0&&i?(t.name=r.slice(1,s),t.base=r.slice(1,l)):(t.name=r.slice(f,s),t.base=r.slice(f,l)),t.ext=r.slice(s,l)),f>0?t.dir=r.slice(0,f-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};j.posix=j;ce.exports=j});var $e={};Ne($e,{activate:()=>Je,deactivate:()=>qe});module.exports=Pe($e);v();var be=H(re());v();v();v();v();function D(e,r=!1){let t=e.length,n=0,i="",o=0,s=16,f=0,l=0,a=0,c=0,u=0;function y(p,k){let h=0,O=0;for(;h<p||!k;){let w=e.charCodeAt(n);if(w>=48&&w<=57)O=O*16+w-48;else if(w>=65&&w<=70)O=O*16+w-65+10;else if(w>=97&&w<=102)O=O*16+w-97+10;else break;n++,h++}return h<p&&(O=-1),O}function A(p){n=p,i="",o=0,s=16,u=0}function d(){let p=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&E(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&E(e.charCodeAt(n)))for(n++;n<e.length&&E(e.charCodeAt(n));)n++;else return u=3,e.substring(p,n);let k=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&E(e.charCodeAt(n))){for(n++;n<e.length&&E(e.charCodeAt(n));)n++;k=n}else u=3;return e.substring(p,k)}function S(){let p="",k=n;for(;;){if(n>=t){p+=e.substring(k,n),u=2;break}let h=e.charCodeAt(n);if(h===34){p+=e.substring(k,n),n++;break}if(h===92){if(p+=e.substring(k,n),n++,n>=t){u=2;break}switch(e.charCodeAt(n++)){case 34:p+='"';break;case 92:p+="\\";break;case 47:p+="/";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+=`
`;break;case 114:p+="\r";break;case 116:p+="	";break;case 117:let w=y(4,!0);w>=0?p+=String.fromCharCode(w):u=4;break;default:u=5}k=n;continue}if(h>=0&&h<=31)if(U(h)){p+=e.substring(k,n),u=2;break}else u=6;n++}return p}function x(){if(i="",u=0,o=n,l=f,c=a,n>=t)return o=t,s=17;let p=e.charCodeAt(n);if(z(p)){do n++,i+=String.fromCharCode(p),p=e.charCodeAt(n);while(z(p));return s=15}if(U(p))return n++,i+=String.fromCharCode(p),p===13&&e.charCodeAt(n)===10&&(n++,i+=`
`),f++,a=n,s=14;switch(p){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=S(),s=10;case 47:let k=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<t&&!U(e.charCodeAt(n));)n++;return i=e.substring(k,n),s=12}if(e.charCodeAt(n+1)===42){n+=2;let h=t-1,O=!1;for(;n<h;){let w=e.charCodeAt(n);if(w===42&&e.charCodeAt(n+1)===47){n+=2,O=!0;break}n++,U(w)&&(w===13&&e.charCodeAt(n)===10&&n++,f++,a=n)}return O||(n++,u=1),i=e.substring(k,n),s=13}return i+=String.fromCharCode(p),n++,s=16;case 45:if(i+=String.fromCharCode(p),n++,n===t||!E(e.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=d(),s=11;default:for(;n<t&&q(p);)n++,p=e.charCodeAt(n);if(o!==n){switch(i=e.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(p),n++,s=16}}function q(p){if(z(p)||U(p))return!1;switch(p){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function B(){let p;do p=x();while(p>=12&&p<=15);return p}return{setPosition:A,getPosition:()=>n,scan:r?B:x,getToken:()=>s,getTokenValue:()=>i,getTokenOffset:()=>o,getTokenLength:()=>n-o,getTokenStartLine:()=>l,getTokenStartCharacter:()=>o-c,getTokenError:()=>u}}function z(e){return e===32||e===9}function U(e){return e===10||e===13}function E(e){return e>=48&&e<=57}var ie;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(ie||(ie={}));v();v();var X;(function(e){e.DEFAULT={allowTrailingComma:!1}})(X||(X={}));function oe(e,r){let t=[],n=new Object,i,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function f(l,a,c,u){o.value=l,o.offset=a,o.length=c,o.type=u,o.colonOffset=void 0,i=o}try{se(e,{onObjectBegin:(l,a)=>{if(r<=l)throw n;i=void 0,s=r>l,t.push("")},onObjectProperty:(l,a,c)=>{if(r<a||(f(l,a,c,"property"),t[t.length-1]=l,r<=a+c))throw n},onObjectEnd:(l,a)=>{if(r<=l)throw n;i=void 0,t.pop()},onArrayBegin:(l,a)=>{if(r<=l)throw n;i=void 0,t.push(0)},onArrayEnd:(l,a)=>{if(r<=l)throw n;i=void 0,t.pop()},onLiteralValue:(l,a,c)=>{if(r<a||(f(l,a,c,je(l)),r<=a+c))throw n},onSeparator:(l,a,c)=>{if(r<=a)throw n;if(l===":"&&i&&i.type==="property")i.colonOffset=a,s=!1,i=void 0;else if(l===","){let u=t[t.length-1];typeof u=="number"?t[t.length-1]=u+1:(s=!0,t[t.length-1]=""),i=void 0}}})}catch(l){if(l!==n)throw l}return{path:t,previousNode:i,isAtPropertyKey:s,matches:l=>{let a=0;for(let c=0;a<l.length&&c<t.length;c++)if(l[a]===t[c]||l[a]==="*")a++;else if(l[a]!=="**")return!1;return a===l.length}}}function se(e,r,t=X.DEFAULT){let n=D(e,!1),i=[];function o(b){return b?()=>b(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function s(b){return b?()=>b(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}function f(b){return b?T=>b(T,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function l(b){return b?T=>b(T,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}let a=s(r.onObjectBegin),c=l(r.onObjectProperty),u=o(r.onObjectEnd),y=s(r.onArrayBegin),A=o(r.onArrayEnd),d=l(r.onLiteralValue),S=f(r.onSeparator),x=o(r.onComment),q=f(r.onError),B=t&&t.disallowComments,p=t&&t.allowTrailingComma;function k(){for(;;){let b=n.scan();switch(n.getTokenError()){case 4:h(14);break;case 5:h(15);break;case 3:h(13);break;case 1:B||h(11);break;case 2:h(12);break;case 6:h(16);break}switch(b){case 12:case 13:B?h(10):x();break;case 16:h(1);break;case 15:case 14:break;default:return b}}}function h(b,T=[],C=[]){if(q(b),T.length+C.length>0){let V=n.getToken();for(;V!==17;){if(T.indexOf(V)!==-1){k();break}else if(C.indexOf(V)!==-1)break;V=k()}}}function O(b){let T=n.getTokenValue();return b?d(T):(c(T),i.push(T)),k(),!0}function w(){switch(n.getToken()){case 11:let b=n.getTokenValue(),T=Number(b);isNaN(T)&&(h(2),T=0),d(T);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return k(),!0}function ke(){return n.getToken()!==10?(h(3,[],[2,5]),!1):(O(!1),n.getToken()===6?(S(":"),k(),$()||h(4,[],[2,5])):h(5,[],[2,5]),i.pop(),!0)}function ve(){a(),k();let b=!1;for(;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(b||h(4,[],[]),S(","),k(),n.getToken()===2&&p)break}else b&&h(6,[],[]);ke()||h(4,[],[2,5]),b=!0}return u(),n.getToken()!==2?h(7,[2],[]):k(),!0}function ye(){y(),k();let b=!0,T=!1;for(;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(T||h(4,[],[]),S(","),k(),n.getToken()===4&&p)break}else T&&h(6,[],[]);b?(i.push(0),b=!1):i[i.length-1]++,$()||h(4,[],[4,5]),T=!0}return A(),b||i.pop(),n.getToken()!==4?h(8,[4],[]):k(),!0}function $(){switch(n.getToken()){case 3:return ye();case 1:return ve();case 10:return O(!0);default:return w()}}return k(),n.getToken()===17?t.allowEmptyContent?!0:(h(4,[],[]),!1):$()?(n.getToken()!==17&&h(9,[],[]),!0):(h(4,[],[]),!1)}function je(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(e){if(Array.isArray(e))return"array"}else return"null";return"object"}default:return"null"}}var fe=D,M;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(M||(M={}));var L;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(L||(L={}));var Q=oe;var le;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(le||(le={}));v();var m=require("vscode"),he=H(ue());v();var g=require("vscode"),G=60,Y=G*60,_=Y*24,ge=_*7,pe=_*30,me=_*365;function Z(e,r,t,n){typeof e!="number"&&(e=e.getTime());let i=Math.round((new Date().getTime()-e)/1e3);if(i<-30)return g.l10n.t("in {0}",Z(new Date().getTime()+i*1e3,!1));if(!n&&i<30)return g.l10n.t("now");let o;return i<G?(o=i,r?o===1?t?g.l10n.t("{0} second ago",o):g.l10n.t("{0} sec ago",o):t?g.l10n.t("{0} seconds ago",o):g.l10n.t("{0} secs ago",o):o===1?t?g.l10n.t("{0} second",o):g.l10n.t("{0} sec",o):t?g.l10n.t("{0} seconds",o):g.l10n.t("{0} secs",o)):i<Y?(o=Math.floor(i/G),r?o===1?t?g.l10n.t("{0} minute ago",o):g.l10n.t("{0} min ago",o):t?g.l10n.t("{0} minutes ago",o):g.l10n.t("{0} mins ago",o):o===1?t?g.l10n.t("{0} minute",o):g.l10n.t("{0} min",o):t?g.l10n.t("{0} minutes",o):g.l10n.t("{0} mins",o)):i<_?(o=Math.floor(i/Y),r?o===1?t?g.l10n.t("{0} hour ago",o):g.l10n.t("{0} hr ago",o):t?g.l10n.t("{0} hours ago",o):g.l10n.t("{0} hrs ago",o):o===1?t?g.l10n.t("{0} hour",o):g.l10n.t("{0} hr",o):t?g.l10n.t("{0} hours",o):g.l10n.t("{0} hrs",o)):i<ge?(o=Math.floor(i/_),r?o===1?g.l10n.t("{0} day ago",o):g.l10n.t("{0} days ago",o):o===1?g.l10n.t("{0} day",o):g.l10n.t("{0} days",o)):i<pe?(o=Math.floor(i/ge),r?o===1?t?g.l10n.t("{0} week ago",o):g.l10n.t("{0} wk ago",o):t?g.l10n.t("{0} weeks ago",o):g.l10n.t("{0} wks ago",o):o===1?t?g.l10n.t("{0} week",o):g.l10n.t("{0} wk",o):t?g.l10n.t("{0} weeks",o):g.l10n.t("{0} wks",o)):i<me?(o=Math.floor(i/pe),r?o===1?t?g.l10n.t("{0} month ago",o):g.l10n.t("{0} mo ago",o):t?g.l10n.t("{0} months ago",o):g.l10n.t("{0} mos ago",o):o===1?t?g.l10n.t("{0} month",o):g.l10n.t("{0} mo",o):t?g.l10n.t("{0} months",o):g.l10n.t("{0} mos",o)):(o=Math.floor(i/me),r?o===1?t?g.l10n.t("{0} year ago",o):g.l10n.t("{0} yr ago",o):t?g.l10n.t("{0} years ago",o):g.l10n.t("{0} yrs ago",o):o===1?t?g.l10n.t("{0} year",o):g.l10n.t("{0} yr",o):t?g.l10n.t("{0} years",o):g.l10n.t("{0} yrs",o))}var Me=40,F="TrackCodex",J=class{constructor(r,t){this.xhr=r;this.npmCommandPath=t}mostDependedOn=["lodash","async","underscore","request","commander","express","debug","chalk","colors","q","coffee-script","mkdirp","optimist","through2","yeoman-generator","moment","bluebird","glob","gulp-util","minimist","cheerio","pug","redis","node-uuid","socket","io","uglify-js","winston","through","fs-extra","handlebars","body-parser","rimraf","mime","semver","mongodb","jquery","grunt","connect","yosay","underscore","string","xml2js","ejs","mongoose","marked","extend","mocha","superagent","js-yaml","xtend","shelljs","gulp","yargs","browserify","minimatch","react","less","prompt","inquirer","ws","event-stream","inherits","mysql","esprima","jsdom","stylus","when","readable-stream","aws-sdk","concat-stream","chai","Thenable","wrench"];knownScopes=["@types","@angular","@babel","@nuxtjs","@vue","@bazel"];getDocumentSelector(){return[{language:"json",scheme:"*",pattern:"**/package.json"}]}collectDefaultSuggestions(r,t){let n={name:"${1:name}",description:"${2:description}",authors:"${3:author}",version:"${4:1.0.0}",main:"${5:pathToMain}",dependencies:{}},i=new m.CompletionItem(m.l10n.t("Default package.json"));return i.kind=m.CompletionItemKind.Module,i.insertText=new m.SnippetString(JSON.stringify(n,null,"	")),t.add(i),Promise.resolve(null)}isEnabled(){return this.npmCommandPath||this.onlineEnabled()}onlineEnabled(){return!!m.workspace.getConfiguration("npm").get("fetchOnlinePackageInfo")}collectPropertySuggestions(r,t,n,i,o,s){if(!this.isEnabled())return null;if(t.matches(["dependencies"])||t.matches(["devDependencies"])||t.matches(["optionalDependencies"])||t.matches(["peerDependencies"])){let f;if(n.length>0){if(n[0]==="@"){if(n.indexOf("/")!==-1)return this.collectScopedPackages(n,i,o,s);for(let l of this.knownScopes){let a=new m.CompletionItem(l);a.kind=m.CompletionItemKind.Property,a.insertText=new m.SnippetString().appendText(`"${l}/`).appendTabstop().appendText('"'),a.filterText=JSON.stringify(l),a.documentation="",a.command={title:"",command:"editor.action.triggerSuggest"},s.add(a)}s.setAsIncomplete()}return f=`https://registry.npmjs.org/-/v1/search?size=${Me}&text=${encodeURIComponent(n)}`,this.xhr({url:f,headers:{agent:F}}).then(l=>{if(l.status===200){try{let a=JSON.parse(l.responseText);if(a&&a.objects&&Array.isArray(a.objects)){let c=a.objects;for(let u of c)this.processPackage(u.package,i,o,s)}}catch{}s.setAsIncomplete()}else return s.error(m.l10n.t("Request to the NPM repository failed: {0}",l.responseText)),0},l=>(s.error(m.l10n.t("Request to the NPM repository failed: {0}",l.responseText)),0))}else return this.mostDependedOn.forEach(l=>{let a=new m.SnippetString().appendText(JSON.stringify(l));i&&(a.appendText(': "').appendTabstop().appendText('"'),o||a.appendText(","));let c=new m.CompletionItem(l);c.kind=m.CompletionItemKind.Property,c.insertText=a,c.filterText=JSON.stringify(l),c.documentation="",s.add(c)}),this.collectScopedPackages(n,i,o,s),s.setAsIncomplete(),Promise.resolve(null)}return null}collectScopedPackages(r,t,n,i){let o=r.split("/");if(o.length===2&&o[0].length>1){let s=o[0].substr(1),f=o[1];f.length<4&&(f="");let l=`https://registry.npmjs.com/-/v1/search?text=scope:${s}%20${f}&size=250`;return this.xhr({url:l,headers:{agent:F}}).then(a=>{if(a.status===200){try{let c=JSON.parse(a.responseText);if(c&&Array.isArray(c.objects)){let u=c.objects;for(let y of u)this.processPackage(y.package,t,n,i)}}catch{}i.setAsIncomplete()}else i.error(m.l10n.t("Request to the NPM repository failed: {0}",a.responseText));return null})}return Promise.resolve(null)}async collectValueSuggestions(r,t,n){if(!this.isEnabled())return null;if(t.matches(["dependencies","*"])||t.matches(["devDependencies","*"])||t.matches(["optionalDependencies","*"])||t.matches(["peerDependencies","*"])){let i=t.path[t.path.length-1];if(typeof i=="string"){let o=await this.fetchPackageInfo(i,r);if(o&&o.version){let s=JSON.stringify(o.version),f=new m.CompletionItem(s);f.kind=m.CompletionItemKind.Property,f.insertText=s,f.documentation=m.l10n.t("The currently latest version of the package"),n.add(f),s=JSON.stringify("^"+o.version),f=new m.CompletionItem(s),f.kind=m.CompletionItemKind.Property,f.insertText=s,f.documentation=m.l10n.t("Matches the most recent major version (1.x.x)"),n.add(f),s=JSON.stringify("~"+o.version),f=new m.CompletionItem(s),f.kind=m.CompletionItemKind.Property,f.insertText=s,f.documentation=m.l10n.t("Matches the most recent minor version (1.2.x)"),n.add(f)}}}return null}getDocumentation(r,t,n,i){let o=new m.MarkdownString;return r&&o.appendText(r),t&&(o.appendText(`

`),o.appendText(n?m.l10n.t("Latest version: {0} published {1}",t,Z(Date.parse(n),!0,!0)):m.l10n.t("Latest version: {0}",t))),i&&(o.appendText(`

`),o.appendText(i)),o}resolveSuggestion(r,t){if(t.kind===m.CompletionItemKind.Property&&!t.documentation){let n=t.label;return typeof n!="string"&&(n=n.label),this.fetchPackageInfo(n,r).then(i=>i?(t.documentation=this.getDocumentation(i.description,i.version,i.time,i.homepage),t):null)}return null}isValidNPMName(r){if(!r||r.length>214||r.match(/^[-_.\s]/))return!1;let t=r.match(/^(?:@([^/~\s)('!*]+?)[/])?([^/~)('!*\s]+?)$/);if(t){let n=t[1];if(n&&encodeURIComponent(n)!==n)return!1;let i=t[2];return encodeURIComponent(i)===i}return!1}async fetchPackageInfo(r,t){if(!this.isValidNPMName(r))return;let n;return this.npmCommandPath&&(n=await this.npmView(this.npmCommandPath,r,t)),!n&&this.onlineEnabled()&&(n=await this.npmjsView(r)),n}async npmView(r,t,n){let i=await import("child_process");return new Promise((o,s)=>{let f=["view","--json","--",t,"description","dist-tags.latest","homepage","version","time"],l=n&&n.scheme==="file"?(0,he.dirname)(n.fsPath):void 0,a={...I,COREPACK_ENABLE_AUTO_PIN:"0",COREPACK_ENABLE_PROJECT_SPEC:"0"},c={cwd:l,env:a},u=r;i.execFile(u,f,c,(y,A)=>{if(!y)try{let d=JSON.parse(A),S=d["dist-tags.latest"]||d.version;o({description:d.description,version:S,time:d.time?.[S],homepage:d.homepage});return}catch{}o(void 0)})})}async npmjsView(r){let t="https://registry.npmjs.org/"+encodeURIComponent(r);try{let n=await this.xhr({url:t,headers:{agent:F}}),i=JSON.parse(n.responseText),o=i["dist-tags"]?.latest||Object.keys(i.versions).pop()||"";return{description:i.description||"",version:o,time:i.time?.[o],homepage:i.homepage||""}}catch{}}getInfoContribution(r,t){if(!this.isEnabled())return null;if(t.matches(["dependencies","*"])||t.matches(["devDependencies","*"])||t.matches(["optionalDependencies","*"])||t.matches(["peerDependencies","*"])){let n=t.path[t.path.length-1];if(typeof n=="string")return this.fetchPackageInfo(n,r).then(i=>i?[this.getDocumentation(i.description,i.version,i.time,i.homepage)]:null)}return null}processPackage(r,t,n,i){if(r&&r.name){let o=r.name,s=new m.SnippetString().appendText(JSON.stringify(o));t&&(s.appendText(': "'),r.version?s.appendVariable("version",r.version):s.appendTabstop(),s.appendText('"'),n||s.appendText(","));let f=new m.CompletionItem(o);f.kind=m.CompletionItemKind.Property,f.insertText=s,f.filterText=JSON.stringify(o),f.documentation=this.getDocumentation(r.description,r.version,void 0,r?.links?.homepage),i.add(f)}}};var N=require("vscode");function de(e,r){let t=[new J(e,r)],n=[];return t.forEach(i=>{let o=i.getDocumentSelector();n.push(N.languages.registerCompletionItemProvider(o,new W(i),'"',":")),n.push(N.languages.registerHoverProvider(o,new K(i)))}),N.Disposable.from(...n)}var K=class{constructor(r){this.jsonContribution=r}provideHover(r,t,n){let i=r.offsetAt(t),o=Q(r.getText(),i);if(!o.previousNode)return null;let s=o.previousNode;if(s&&s.offset<=i&&i<=s.offset+s.length){let f=this.jsonContribution.getInfoContribution(r.uri,o);if(f)return f.then(l=>{let a=new N.Range(r.positionAt(s.offset),r.positionAt(s.offset+s.length));return{contents:l||[],range:a}})}return null}},W=class{constructor(r){this.jsonContribution=r}lastResource;resolveCompletionItem(r,t){if(this.jsonContribution.resolveSuggestion){let n=this.jsonContribution.resolveSuggestion(this.lastResource,r);if(n)return n}return Promise.resolve(r)}provideCompletionItems(r,t,n){this.lastResource=r.uri;let i=this.getCurrentWord(r,t),o,s=[],f=!1,l=r.offsetAt(t),a=Q(r.getText(),l),c=a.previousNode;c&&c.offset<=l&&l<=c.offset+c.length&&(c.type==="property"||c.type==="string"||c.type==="number"||c.type==="boolean"||c.type==="null")?o=new N.Range(r.positionAt(c.offset),r.positionAt(c.offset+c.length)):o=new N.Range(r.positionAt(l-i.length),t);let u={},y={add:d=>{let S=typeof d.label=="string"?d.label:d.label.label;u[S]||(u[S]=!0,d.range={replacing:o,inserting:new N.Range(o.start,o.start)},s.push(d))},setAsIncomplete:()=>f=!0,error:d=>console.error(d),log:d=>console.log(d)},A=null;if(a.isAtPropertyKey){let d=fe(r.getText(),!0),S=!a.previousNode||!this.hasColonAfter(d,a.previousNode.offset+a.previousNode.length),x=this.isLast(d,r.offsetAt(t));A=this.jsonContribution.collectPropertySuggestions(r.uri,a,i,S,x,y)}else a.path.length===0?A=this.jsonContribution.collectDefaultSuggestions(r.uri,y):A=this.jsonContribution.collectValueSuggestions(r.uri,a,y);return A?A.then(()=>s.length>0||f?new N.CompletionList(s,f):null):null}getCurrentWord(r,t){let n=t.character-1,i=r.lineAt(t.line).text;for(;n>=0&&` 	
\r\v":{[,`.indexOf(i.charAt(n))===-1;)n--;return i.substring(n+1,t.character)}isLast(r,t){r.setPosition(t);let n=r.scan();return n===L.StringLiteral&&r.getTokenError()===M.UnexpectedEndOfString&&(n=r.scan()),n===L.CloseBraceToken||n===L.EOF}hasColonAfter(r,t){return r.setPosition(t),r.scan()===L.ColonToken}};async function Je(e){e.subscriptions.push(de(be.xhr,void 0))}function qe(){}
//# sourceMappingURL=npmBrowserMain.js.map
